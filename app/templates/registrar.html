{% extends 'base.html' %}

{% block content %}
<h1>Registrar Client</h1>
<form method="post">
    {{ form.hidden_tag() }}
    <label for="nome">Nome:</label>
    <input type="text" id="nome" name="nome" required><br>

    <label for="seguradora">Seguradora:</label>
    <input type="text" id="seguradora" name="seguradora" required><br>

    <label for="tipo_seguro">Tipo de Seguro:</label>
    <input type="text" id="tipo_seguro" name="tipo_seguro" required><br>

    <label for="qtde_parcelas">Quantidade de Parcelas:</label>
    <input type="number" id="qtde_parcelas" name="qtde_parcelas" required><br>

    <label for="forma_pagamento">Forma de Pagamento:</label>
    <input type="text" id="forma_pagamento" name="forma_pagamento" required><br>

    <div id="due_dates_container"></div>

    <button type="submit">Registrar</button>
</form>
<script>
    document.getElementById('qtde_parcelas').addEventListener('change', function() {
        const container = document.getElementById('due_dates_container');
        container.innerHTML = '';
        const count = parseInt(this.value, 10);
        for (let i = 1; i <= count; i++) {
            const label = document.createElement('label');
            label.innerText = `Due Date ${i}:`;
            const input = document.createElement('input');
            input.type = 'date';
            input.name = `due_date_${i}`;
            input.required = true;
            container.appendChild(label);
            container.appendChild(input);
            container.appendChild(document.createElement('br'));
        }
    });
</script>
{% endblock %}


